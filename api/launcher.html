
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MAPDL Launcher &#8212; ansys.mapdl.core 0.57.0 documentation</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/ansys.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Convert Function" href="convert.html" />
    <link rel="prev" title="MAPDL Object" href="mapdl.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main">
<div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <img src="../_static/pyansys-logo-black-cropped.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../user_guide/index.html">User Guide</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">API Reference</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../examples/index.html">Examples</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../contributing.html">Contributing</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pyansys/pymapdl-reader" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
          <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">

    <div class="bd-toc-item active">
    
  
    <ul class="nav bd-sidenav">
        
        
        
        
        
        
          
            
                <li class="">
                    <a href="mapdl.html">MAPDL Object</a>
                </li>
            
          
            
                <li class="active">
                    <a href="">MAPDL Launcher</a>
                </li>
            
          
            
                <li class="">
                    <a href="convert.html">Convert Function</a>
                </li>
            
          
            
                <li class="">
                    <a href="plotting.html">PyMAPDL Plotting Methods</a>
                </li>
            
          
            
                <li class="">
                    <a href="parameters.html">Parameters Class</a>
                </li>
            
          
            
                <li class="">
                    <a href="mesh.html">Mesh Class</a>
                </li>
            
          
            
                <li class="">
                    <a href="geometry.html">Geometry Class</a>
                </li>
            
          
            
                <li class="">
                    <a href="post.html">PyMAPDL Post-Processing API</a>
                </li>
            
          
            
                <li class="">
                    <a href="math.html">Math Module</a>
                </li>
            
          
            
                <li class="">
                    <a href="pool.html">MapdlLocalPool Class</a>
                </li>
            
          
            
                <li class="">
                    <a href="xpl.html">ansXpl Class</a>
                </li>
            
          
        
        
        
        
        
        
      </ul>
  
  </nav>
          </div>
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
    </ul>
</nav>


              
          </div>
          

          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="mapdl-launcher">
<span id="ref-launcher-api"></span><h1>MAPDL Launcher<a class="headerlink" href="#mapdl-launcher" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="ansys.mapdl.core.launcher.launch_mapdl">
<code class="sig-prename descclassname">ansys.mapdl.core.launcher.</code><code class="sig-name descname">launch_mapdl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exec_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jobname</span><span class="o">=</span><span class="default_value">'file'</span></em>, <em class="sig-param"><span class="n">nproc</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">ram</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">override</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">loglevel</span><span class="o">=</span><span class="default_value">'ERROR'</span></em>, <em class="sig-param"><span class="n">additional_switches</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">start_timeout</span><span class="o">=</span><span class="default_value">120</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">custom_bin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cleanup_on_exit</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">start_instance</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">ip</span><span class="o">=</span><span class="default_value">'127.0.0.1'</span></em>, <em class="sig-param"><span class="n">clear_on_connect</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">log_apdl</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#ansys.mapdl.core.launcher.launch_mapdl" title="Permalink to this definition">¶</a></dt>
<dd><p>Start MAPDL locally in gRPC mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exec_file</strong> (<em>str</em><em>, </em><em>optional</em>) – The location of the MAPDL executable.  Will use the cached
location when left at the default <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>run_location</strong> (<em>str</em><em>, </em><em>optional</em>) – MAPDL working directory.  Defaults to a temporary working
directory.  If directory doesn’t exist, will create one.</p></li>
<li><p><strong>jobname</strong> (<em>str</em><em>, </em><em>optional</em>) – MAPDL jobname.  Defaults to <code class="docutils literal notranslate"><span class="pre">'file'</span></code>.</p></li>
<li><p><strong>nproc</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of processors.  Defaults to 2.</p></li>
<li><p><strong>ram</strong> (<em>float</em><em>, </em><em>optional</em>) – Fixed amount of memory to request for MAPDL.  If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
then MAPDL will use as much as available on the host machine.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Mode to launch MAPDL.  Must be one of the following:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">'grpc'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'corba'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'console'</span></code></p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">'grpc'</span></code> mode is available on ANSYS 2021R1 or newer and
provides the best performance and stability.  The <code class="docutils literal notranslate"><span class="pre">'corba'</span></code>
mode is available from v17.0 and newer and is given legacy
support.  This mode requires the additional
<code class="docutils literal notranslate"><span class="pre">ansys-mapdl-corba</span></code> module.  Finally, the <code class="docutils literal notranslate"><span class="pre">'console'</span></code> mode
is for legacy use only Linux only prior to v17.0.  This console
mode is pending depreciation.</p>
</p></li>
<li><p><strong>override</strong> (<em>bool</em><em>, </em><em>optional</em>) – Attempts to delete the lock file at the run_location.
Useful when a prior MAPDL session has exited prematurely and
the lock file has not been deleted.</p></li>
<li><p><strong>loglevel</strong> (<em>str</em><em>, </em><em>optional</em>) – Sets which messages are printed to the console.  <code class="docutils literal notranslate"><span class="pre">'INFO'</span></code>
prints out all ANSYS messages, <code class="docutils literal notranslate"><span class="pre">'WARNING`</span></code> prints only
messages containing ANSYS warnings, and <code class="docutils literal notranslate"><span class="pre">'ERROR'</span></code> logs only
error messages.</p></li>
<li><p><strong>additional_switches</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Additional switches for MAPDL, for example <code class="docutils literal notranslate"><span class="pre">'aa_r'</span></code>, the
academic research license, would be added with:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">additional_switches=&quot;-aa_r&quot;</span></code></p></li>
</ul>
<p>Avoid adding switches like -i -o or -b as these are already
included to start up the MAPDL server.  See the notes
section for additional details.</p>
</p></li>
<li><p><strong>start_timeout</strong> (<em>float</em><em>, </em><em>optional</em>) – Maximum allowable time to connect to the MAPDL server.</p></li>
<li><p><strong>port</strong> (<em>int</em>) – Port to launch MAPDL gRPC on.  Final port will be the first
port available after (or including) this port.  Defaults to
50052.  You can also override the default behavior of this
keyword argument with the environment variable
<code class="docutils literal notranslate"><span class="pre">PYMAPDL_PORT=&lt;VALID</span> <span class="pre">PORT&gt;</span></code></p></li>
<li><p><strong>custom_bin</strong> (<em>str</em><em>, </em><em>optional</em>) – Path to the MAPDL custom executable.  On release 2020R2 on
Linux, if <code class="docutils literal notranslate"><span class="pre">None</span></code>, will check to see if you have
<code class="docutils literal notranslate"><span class="pre">ansys.mapdl_bin</span></code> installed and use that executable.</p></li>
<li><p><strong>cleanup_on_exit</strong> (<em>bool</em><em>, </em><em>optional</em>) – Exit MAPDL when python exits or the mapdl Python instance is
garbage collected.</p></li>
<li><p><strong>start_instance</strong> (<em>bool</em><em>, </em><em>optional</em>) – When False, connect to an existing MAPDL instance at <code class="docutils literal notranslate"><span class="pre">ip</span></code>
and <code class="docutils literal notranslate"><span class="pre">port</span></code>, which default to <code class="docutils literal notranslate"><span class="pre">'127.0.0.1'</span></code> at 50052.
Otherwise, launch a local instance of MAPDL.  You can also
override the default behavior of this keyword argument with
the environment variable <code class="docutils literal notranslate"><span class="pre">PYMAPDL_START_INSTANCE=FALSE</span></code>.</p></li>
<li><p><strong>ip</strong> (<em>bool</em><em>, </em><em>optional</em>) – Used only when <code class="docutils literal notranslate"><span class="pre">start_instance</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.  Defaults to
<code class="docutils literal notranslate"><span class="pre">'127.0.0.1'</span></code>. You can also override the default behavior of
this keyword argument with the environment variable
“PYMAPDL_IP=FALSE”.</p></li>
<li><p><strong>clear_on_connect</strong> (<em>bool</em><em>, </em><em>optional</em>) – Used only when <code class="docutils literal notranslate"><span class="pre">start_instance</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>.  Defaults to
<code class="docutils literal notranslate"><span class="pre">True</span></code>, giving you a fresh environment when connecting to
MAPDL.</p></li>
<li><p><strong>remove_temp_files</strong> (<em>bool</em><em>, </em><em>optional</em>) – Removes temporary files on exit.  Default <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Launch MAPDL using the best protocol.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ansys.mapdl.core</span> <span class="kn">import</span> <span class="n">launch_mapdl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">()</span>
</pre></div>
</div>
<p>Run MAPDL with shared memory parallel and specify the location of
the ansys binary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exec_file</span> <span class="o">=</span> <span class="s1">&#39;C:/Program Files/ANSYS Inc/v201/ansys/bin/win64/ANSYS201.exe&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">(</span><span class="n">exec_file</span><span class="p">,</span> <span class="n">additional_switches</span><span class="o">=</span><span class="s1">&#39;-smp&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Connect to an existing instance of MAPDL at IP 192.168.1.30 and
port 50001.  This is only available using the latest <code class="docutils literal notranslate"><span class="pre">'grpc'</span></code>
mode.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">(</span><span class="n">start_instance</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ip</span><span class="o">=</span><span class="s1">&#39;192.168.1.30&#39;</span><span class="p">,</span>
<span class="go">                         port=50001)</span>
</pre></div>
</div>
<p>Force the usage of the CORBA protocol.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;corba&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Run MAPDL using the console mode (available only on Linux).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mapdl</span> <span class="o">=</span> <span class="n">launch_mapdl</span><span class="p">(</span><span class="s1">&#39;/ansys_inc/v194/ansys/bin/ansys194&#39;</span><span class="p">,</span>
<span class="go">                          mode=&#39;console&#39;)</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>These are the MAPDL switch options as of 2020R2 applicable for
running MAPDL as a service via gRPC.  Excluded switches such as
<code class="docutils literal notranslate"><span class="pre">&quot;-j&quot;</span></code> either not applicable or are set via keyword arguments.</p>
<dl class="simple">
<dt>-acc &lt;device&gt;<span class="classifier">Enables the use of GPU hardware.  See GPU</span></dt><dd><p>Accelerator Capability in the Parallel Processing Guide for more
information.</p>
</dd>
<dt>-amfg<span class="classifier">Enables the additive manufacturing capability.  Requires</span></dt><dd><p>an additive manufacturing license. For general information about
this feature, see AM Process Simulation in ANSYS Workbench.</p>
</dd>
<dt>-ansexe &lt;executable&gt;<span class="classifier">Activates a custom mechanical APDL executable.</span></dt><dd><p>In the ANSYS Workbench environment, activates a custom
Mechanical APDL executable.</p>
</dd>
<dt>-custom &lt;executable&gt;<span class="classifier">Calls a custom Mechanical APDL executable</span></dt><dd><p>See Running Your Custom Executable in the Programmer’s Reference
for more information.</p>
</dd>
<dt>-db value<span class="classifier">Initial memory allocation</span></dt><dd><p>Defines the portion of workspace (memory) to be used as the
initial allocation for the database. The default is 1024
MB. Specify a negative number to force a fixed size throughout
the run; useful on small memory systems.</p>
</dd>
<dt>-dis<span class="classifier">Enables Distributed ANSYS</span></dt><dd><p>See the Parallel Processing Guide for more information.</p>
</dd>
<dt>-dvt<span class="classifier">Enables ANSYS DesignXplorer advanced task (add-on).</span></dt><dd><p>Requires DesignXplorer.</p>
</dd>
<dt>-l &lt;language&gt;<span class="classifier">Specifies a language file to use other than English</span></dt><dd><p>This option is valid only if you have a translated message file
in an appropriately named subdirectory in
<code class="docutils literal notranslate"><span class="pre">/ansys_inc/v201/ansys/docu</span></code> or
<code class="docutils literal notranslate"><span class="pre">Program</span> <span class="pre">Files\ANSYS\Inc\V201\ANSYS\docu</span></code></p>
</dd>
<dt>-m &lt;workspace&gt;<span class="classifier">Specifies the total size of the workspace</span></dt><dd><p>Workspace (memory) in megabytes used for the initial
allocation. If you omit the <code class="docutils literal notranslate"><span class="pre">-m</span></code> option, the default is 2 GB
(2048 MB). Specify a negative number to force a fixed size
throughout the run.</p>
</dd>
<dt>-machines &lt;IP&gt;<span class="classifier">Specifies the distributed machines</span></dt><dd><p>Machines on which to run a Distributed ANSYS analysis. See
Starting Distributed ANSYS in the Parallel Processing Guide for
more information.</p>
</dd>
<dt>-mpi &lt;value&gt;<span class="classifier">Specifies the type of MPI to use.</span></dt><dd><p>See the Parallel Processing Guide for more information.</p>
</dd>
<dt>-mpifile &lt;appfile&gt;<span class="classifier">Specifies an existing MPI file</span></dt><dd><p>Specifies an existing MPI file (appfile) to be used in a
Distributed ANSYS run. See Using MPI Files in the Parallel
Processing Guide for more information.</p>
</dd>
<dt>-na &lt;value&gt;: Specifies the number of GPU accelerator devices</dt><dd><p>Number of GPU devices per machine or compute node when running
with the GPU accelerator feature. See GPU Accelerator Capability
in the Parallel Processing Guide for more information.</p>
</dd>
<dt>-name &lt;value&gt;<span class="classifier">Defines Mechanical APDL parameters</span></dt><dd><p>Set mechanical APDL parameters at program start-up. The parameter
name must be at least two characters long. For details about
parameters, see the ANSYS Parametric Design Language Guide.</p>
</dd>
<dt>-p &lt;productname&gt;<span class="classifier">ANSYS session product</span></dt><dd><p>Defines the ANSYS session product that will run during the
session. For more detailed information about the <code class="docutils literal notranslate"><span class="pre">-p</span></code> option,
see Selecting an ANSYS Product via the Command Line.</p>
</dd>
<dt>-ppf &lt;license feature name&gt;<span class="classifier">HPC license</span></dt><dd><p>Specifies which HPC license to use during a parallel processing
run. See HPC Licensing in the Parallel Processing Guide for more
information.</p>
</dd>
<dt>-smp<span class="classifier">Enables shared-memory parallelism.</span></dt><dd><p>See the Parallel Processing Guide for more information.</p>
</dd>
</dl>
</dd></dl>

</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="mapdl.html" title="previous page">MAPDL Object</a>
    <a class='right-next' id="next-link" href="convert.html" title="next page">Convert Function</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2020, ANSYS.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.4.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>